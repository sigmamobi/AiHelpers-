# AI Assistant App

## 1. Название и краткое описание проекта

**AI Assistant** — это современное кроссплатформенное приложение, разработанное с использованием React Native и Expo. Оно обеспечивает интуитивное взаимодействие пользователя с искусственным интеллектом через чат-интерфейс. Приложение поддерживает развертывание на трех основных платформах: iOS, Android и Web, что обеспечивает максимальный охват аудитории и единообразный пользовательский опыт.

Основная концепция проекта заключается в создании персонализированного AI-помощника, который может адаптироваться к различным потребностям пользователя через систему кастомных помощников. Каждый помощник выступает в роли специализированного эксперта в определенной области, от бизнес-консалтинга до творческого письма, позволяя пользователям получать высококачественные, контекстно-зависимые ответы и решения.

## 2. Технический стек

*   **Фронтенд**:
    *   React Native
    *   Expo SDK
    *   React Navigation (для навигации)
    *   i18n-js и expo-localization (для локализации)
    *   (Опционально) Gluestack UI или другая UI-библиотека
*   **Бэкенд**:
    *   Supabase
        *   PostgreSQL (база данных)
        *   Supabase Auth (аутентификация)
        *   Supabase Realtime (обновления в реальном времени)
        *   Supabase Edge Functions (Deno/TypeScript, для взаимодействия с OpenAI)
*   **AI Модель**:
    *   OpenAI API (GPT-3.5-turbo, GPT-4, GPT-4o и другие)
*   **Язык программирования**:
    *   JavaScript (для основного кода React Native)
    *   TypeScript (для Supabase Edge Functions и, возможно, для частей фронтенда)

## 3. Установка и настройка

Подробные инструкции по установке и настройке проекта находятся в следующих файлах документации:

*   [Настройка проекта Supabase](./docs/SUPABASE_SETUP.md)
*   [Настройка Edge Function](./docs/EDGE_FUNCTION_SETUP.md)
*   [Установка JDK и настройка Android для локальной сборки](./docs/install-jdk-instructions.md)
*   [Инструкции по сборке APK](./docs/APK_BUILD_INSTRUCTIONS.md)

**Основные шаги для запуска локально:**

1.  **Клонируйте репозиторий:**
    ```bash
    git clone https://github.com/sigmamobi/AiHelpers-.git
    cd AiHelpers-
    ```
2.  **Установите зависимости:**
    ```bash
    npm install
    ```
3.  **Настройте переменные окружения:**
    *   Скопируйте `.env.example` в `.env`.
    *   Заполните `.env` вашими ключами API для Supabase и OpenAI.
4.  **Настройте Supabase:**
    *   Создайте проект на [supabase.com](https://supabase.com).
    *   Примените схему базы данных из `supabase/schema.sql` через SQL Editor в панели управления Supabase.
    *   Заполните таблицу `assistants` начальными данными из `supabase/seed/assistants.sql`.
    *   Разверните Edge Function `generate_ai_response` из `supabase/functions/generate_ai_response/index.ts` и настройте для нее секреты (OPENAI_API_KEY, SERVICE_ROLE_KEY).
5.  **Запустите приложение:**
    *   Для веб-версии:
        ```bash
        npx expo start --web
        ```
    *   Для Android (требуется настроенный эмулятор или устройство и Android SDK/JDK):
        ```bash
        npx expo run:android
        ```
    *   Для iOS (требуется macOS и Xcode):
        ```bash
        npx expo run:ios
        ```

## 4. Структура проекта

```
.
├── android/                  # Нативный код Android (генерируется `expo prebuild`)
├── assets/                   # Иконки, сплэш-скрины, шрифты и другие ресурсы
├── docs/                     # Документация проекта
├── lib/                      # Вспомогательные модули и утилиты
│   ├── i18n.js               # Настройка и переводы для локализации
│   └── supabase.js           # Клиент Supabase и функции для взаимодействия с API
├── screens/                  # Компоненты экранов приложения
│   ├── AssistantsScreen.js
│   ├── AuthScreen.js
│   ├── ChatScreen.js
│   ├── HomeScreen.js
│   └── SettingsScreen.js
├── supabase/                 # Конфигурация и скрипты для Supabase
│   ├── functions/            # Edge Functions
│   │   └── generate_ai_response/
│   │       └── index.ts
│   ├── migrations/           # Миграции базы данных
│   ├── schema.sql            # Основная схема базы данных
│   └── seed/                 # SQL-скрипты для заполнения БД начальными данными
│       └── assistants.sql
├── .env                      # Локальные переменные окружения (не коммитится)
├── .env.example              # Пример файла .env
├── .gitignore
├── App.js                    # Корневой компонент приложения с навигацией и провайдерами
├── app.config.js             # Динамическая конфигурация Expo (использует .env)
├── app.json                  # Статическая конфигурация Expo
├── babel.config.js           # Конфигурация Babel
├── eas.json                  # Конфигурация для EAS Build
├── index.js                  # Точка входа приложения
├── install-jdk.md            # (Перемещено в docs/)
├── package.json
├── package-lock.json
├── tsconfig.json             # Конфигурация TypeScript (если используется)
└── README.md                 # Этот файл
```

## 5. Особенности приложения

*   **Кроссплатформенность**: Работает на iOS, Android и в Вебе благодаря React Native и Expo.
*   **AI-Чат**: Интуитивный интерфейс для общения с AI.
*   **Кастомные AI-Помощники**: Предопределенный набор из более чем 30 AI-помощников, каждый со своей специализацией и системным промптом. Список помощников хранится в базе данных и легко расширяется.
*   **Аутентификация пользователей**: Безопасная регистрация и вход с использованием Supabase Auth (email/пароль, magic link).
*   **Демо-режим**: Возможность попробовать приложение без регистрации.
*   **Хранение данных**: Вся информация (чаты, сообщения, настройки пользователя) хранится в PostgreSQL базе данных Supabase.
*   **Обновления в реальном времени**: Сообщения в чате обновляются мгновенно благодаря Supabase Realtime.
*   **Настройки AI модели**: Пользователи могут настраивать параметры AI модели (температура, максимальное количество токенов, выбор модели) для персонализации ответов.
*   **Локализация**: Поддержка нескольких языков интерфейса (изначально английский и русский). Язык выбирается в настройках.
*   **Безопасность**: Ключ OpenAI API хранится на стороне сервера (в Supabase Edge Function) и не доступен на клиенте.

## 6. Дополнительная документация

Вся созданная в процессе разработки документация находится в папке `docs/`:

*   [Инструкции по настройке Supabase](./docs/SUPABASE_SETUP.md)
*   [Инструкции по настройке Edge Function](./docs/EDGE_FUNCTION_SETUP.md)
*   [Инструкции по установке JDK и настройке Android для локальной сборки](./docs/install-jdk-instructions.md)
*   [Инструкции по сборке APK через EAS Build](./docs/APK_BUILD_INSTRUCTIONS.md)
*   [Инструкции по локальной сборке APK через Gradle](./docs/LOCAL_APK_BUILD_GUIDE.md)
*   [Решение ошибки "EMFILE: too many open files"](./docs/fix-emfile-error.md)
*   [Руководство по отправке изменений на GitHub](./docs/push-to-github.md)
*   [Руководство по разработке (архитектура, поток данных)](./docs/DEVELOPMENT_GUIDE.md)
*   [План следующих шагов (Roadmap)](./docs/NEXT_STEPS.md)

---
Этот проект является основой для создания мощного и гибкого AI-помощника.
